import{u as y}from"./D4Z7RUcX.js";import{u as b}from"./DKNMUz-P.js";import{_ as k,m as x,c as n,k as w,u as i,a as s,t as r,F as C,s as D,o,q as $}from"./CGX_HFdr.js";const L={class:"blog-container"},T={key:0,class:"loading-section"},N={key:1,class:"error-section"},z={class:"glass-card error-card"},A={key:2,class:"articles-section"},B={class:"stats-bar"},F={class:"glass-card stats-card"},S={class:"stats-text"},E={key:0,class:"articles-grid"},M=["onClick"],V={class:"article-title"},q={class:"article-excerpt"},H={class:"article-meta"},I={class:"meta-item"},R={class:"meta-text"},U={class:"meta-item"},X={class:"meta-text"},j={key:1,class:"empty-section"},G={__name:"index",async setup(J){let l,p;y({title:"博客列表 - 我的博客",meta:[{name:"description",content:"浏览我的所有博客文章，分享技术心得和成长经历"}]});const{data:d,pending:u,error:_,refresh:v}=([l,p]=x(()=>b("/articles",{server:!1,baseURL:"http://localhost:7000",transform:e=>e.success?e.data:[]},"$ns2Xa_1kks")),l=await l,p(),l),g=e=>{$(`/blog/${e}`)},h=e=>{if(!e)return"暂无内容...";const t=e.replace(/<[^>]*>/g,"");return t.length>150?t.substring(0,150)+"...":t},f=e=>{if(!e)return"未知日期";const t=new Date(e),a=Math.abs(new Date-t),c=Math.ceil(a/(1e3*60*60*24));return c===1?`今天 ${t.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"})}`:c<=7?`${c-1}天前`:t.toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric"})};return(e,t)=>{var m;return o(),n("div",L,[t[8]||(t[8]=w('<div class="hero-section" data-v-137d593b><div class="glass-card title-card" data-v-137d593b><h1 class="main-title" data-v-137d593b><span class="title-gradient" data-v-137d593b>📝 我的博客</span></h1><p class="subtitle" data-v-137d593b>分享技术心得，记录成长足迹</p></div></div>',1)),i(u)?(o(),n("div",T,t[1]||(t[1]=[s("div",{class:"glass-card loading-card"},[s("div",{class:"loading-spinner"}),s("p",null,"正在加载精彩内容...")],-1)]))):i(_)?(o(),n("div",N,[s("div",z,[t[2]||(t[2]=s("div",{class:"error-icon"},"❌",-1)),t[3]||(t[3]=s("h3",null,"加载失败",-1)),s("p",null,r(i(_).message||"获取文章列表时出现问题"),1),s("button",{onClick:t[0]||(t[0]=a=>i(v)()),class:"retry-btn"}," 🔄 重试 ")])])):(o(),n("div",A,[s("div",B,[s("div",F,[s("span",S," 📊 共 "+r(((m=i(d))==null?void 0:m.length)||0)+" 篇文章 ",1)])]),i(d)&&i(d).length>0?(o(),n("div",E,[(o(!0),n(C,null,D(i(d),a=>(o(),n("article",{key:a.id,class:"glass-card article-card",onClick:c=>g(a.id)},[s("h2",V,r(a.title),1),s("div",q,r(h(a.content)),1),s("div",H,[s("div",I,[t[4]||(t[4]=s("span",{class:"meta-icon"},"👤",-1)),s("span",R,r(a.author),1)]),s("div",U,[t[5]||(t[5]=s("span",{class:"meta-icon"},"📅",-1)),s("span",X,r(f(a.publishedAt)),1)])]),t[6]||(t[6]=s("div",{class:"read-more"},[s("span",{class:"read-more-text"},"阅读全文"),s("span",{class:"read-more-arrow"},"→")],-1))],8,M))),128))])):(o(),n("div",j,t[7]||(t[7]=[s("div",{class:"glass-card empty-card"},[s("div",{class:"empty-icon"},"📝"),s("h3",null,"暂无文章"),s("p",null,"还没有发布任何文章，敬请期待！")],-1)])))]))])}}},Q=k(G,[["__scopeId","data-v-137d593b"]]);export{Q as default};
