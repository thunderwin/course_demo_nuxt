{"version":3,"file":"index-BVl6LaVH.js","sources":["../../../../pages/blog/index.vue"],"sourcesContent":["<template>\n  <div class=\"blog-container\">\n    <!-- é¡µé¢æ ‡é¢˜åŒºåŸŸ -->\n    <div class=\"hero-section\">\n      <div class=\"glass-card title-card\">\n        <h1 class=\"main-title\">\n          <span class=\"title-gradient\">ğŸ“ æˆ‘çš„åšå®¢</span>\n        </h1>\n        <p class=\"subtitle\">åˆ†äº«æŠ€æœ¯å¿ƒå¾—ï¼Œè®°å½•æˆé•¿è¶³è¿¹</p>\n      </div>\n    </div>\n\n    <!-- åŠ è½½çŠ¶æ€ -->\n    <div v-if=\"pending\" class=\"loading-section\">\n      <div class=\"glass-card loading-card\">\n        <div class=\"loading-spinner\"></div>\n        <p>æ­£åœ¨åŠ è½½ç²¾å½©å†…å®¹...</p>\n      </div>\n    </div>\n\n    <!-- é”™è¯¯çŠ¶æ€ -->\n    <div v-else-if=\"error\" class=\"error-section\">\n      <div class=\"glass-card error-card\">\n        <div class=\"error-icon\">âŒ</div>\n        <h3>åŠ è½½å¤±è´¥</h3>\n        <p>{{ error.message || 'è·å–æ–‡ç« åˆ—è¡¨æ—¶å‡ºç°é—®é¢˜' }}</p>\n        <button @click=\"refresh()\" class=\"retry-btn\">\n          ğŸ”„ é‡è¯•\n        </button>\n      </div>\n    </div>\n\n    <!-- æ–‡ç« åˆ—è¡¨ -->\n    <div v-else class=\"articles-section\">\n      <!-- æ–‡ç« ç»Ÿè®¡ -->\n      <div class=\"stats-bar\">\n        <div class=\"glass-card stats-card\">\n          <span class=\"stats-text\">\n            ğŸ“Š å…± {{ articles?.length || 0 }} ç¯‡æ–‡ç« \n          </span>\n        </div>\n      </div>\n\n      <!-- æ–‡ç« åˆ—è¡¨ -->\n      <div v-if=\"articles && articles.length > 0\" class=\"articles-grid\">\n        <article \n          v-for=\"article in articles\" \n          :key=\"article.id\"\n          class=\"glass-card article-card\"\n          @click=\"navigateToArticle(article.id)\"\n        >\n          <!-- æ–‡ç« æ ‡é¢˜ -->\n          <h2 class=\"article-title\">{{ article.title }}</h2>\n          \n          <!-- æ–‡ç« æ‘˜è¦ -->\n          <div class=\"article-excerpt\">\n            {{ getExcerpt(article.content) }}\n          </div>\n          \n          <!-- æ–‡ç« å…ƒä¿¡æ¯ -->\n          <div class=\"article-meta\">\n            <div class=\"meta-item\">\n              <span class=\"meta-icon\">ğŸ‘¤</span>\n              <span class=\"meta-text\">{{ article.author }}</span>\n            </div>\n            <div class=\"meta-item\">\n              <span class=\"meta-icon\">ğŸ“…</span>\n              <span class=\"meta-text\">{{ formatDate(article.publishedAt) }}</span>\n            </div>\n          </div>\n          \n          <!-- é˜…è¯»æ›´å¤šæŒ‰é’® -->\n          <div class=\"read-more\">\n            <span class=\"read-more-text\">é˜…è¯»å…¨æ–‡</span>\n            <span class=\"read-more-arrow\">â†’</span>\n          </div>\n        </article>\n      </div>\n\n      <!-- ç©ºçŠ¶æ€ -->\n      <div v-else class=\"empty-section\">\n        <div class=\"glass-card empty-card\">\n          <div class=\"empty-icon\">ğŸ“</div>\n          <h3>æš‚æ— æ–‡ç« </h3>\n          <p>è¿˜æ²¡æœ‰å‘å¸ƒä»»ä½•æ–‡ç« ï¼Œæ•¬è¯·æœŸå¾…ï¼</p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\n// é¡µé¢å…ƒä¿¡æ¯è®¾ç½®\nuseHead({\n  title: 'åšå®¢åˆ—è¡¨ - æˆ‘çš„åšå®¢',\n  meta: [\n    { name: 'description', content: 'æµè§ˆæˆ‘çš„æ‰€æœ‰åšå®¢æ–‡ç« ï¼Œåˆ†äº«æŠ€æœ¯å¿ƒå¾—å’Œæˆé•¿ç»å†' }\n  ]\n})\n\n// ä½¿ç”¨$fetchä»åç«¯è·å–æ–‡ç« æ•°æ®\nconst { data: articles, pending, error, refresh } = await useLazyFetch('/articles', {\n  server: false, // åœ¨å®¢æˆ·ç«¯è·å–æ•°æ®\n  baseURL: 'http://localhost:7000', // åç«¯æœåŠ¡å™¨åœ°å€\n  transform: (data) => {\n    // æ•°æ®è½¬æ¢ï¼šç¡®ä¿è¿”å›æ–‡ç« æ•°ç»„\n    return data.success ? data.data : []\n  }\n})\n\n/**\n * å¯¼èˆªåˆ°æ–‡ç« è¯¦æƒ…é¡µ\n * @param {number} articleId - æ–‡ç« ID\n */\nconst navigateToArticle = (articleId) => {\n  navigateTo(`/blog/${articleId}`)\n}\n\n/**\n * è·å–æ–‡ç« æ‘˜è¦ï¼ˆå‰150ä¸ªå­—ç¬¦ï¼‰\n * @param {string} content - æ–‡ç« å†…å®¹\n * @return {string} æ–‡ç« æ‘˜è¦\n */\nconst getExcerpt = (content) => {\n  if (!content) return 'æš‚æ— å†…å®¹...'\n  // ç§»é™¤HTMLæ ‡ç­¾å¹¶æˆªå–å‰150ä¸ªå­—ç¬¦\n  const plainText = content.replace(/<[^>]*>/g, '')\n  return plainText.length > 150 ? plainText.substring(0, 150) + '...' : plainText\n}\n\n/**\n * æ ¼å¼åŒ–æ—¥æœŸæ˜¾ç¤º\n * @param {string} dateString - æ—¥æœŸå­—ç¬¦ä¸²\n * @return {string} æ ¼å¼åŒ–åçš„æ—¥æœŸ\n */\nconst formatDate = (dateString) => {\n  if (!dateString) return 'æœªçŸ¥æ—¥æœŸ'\n  \n  const date = new Date(dateString)\n  const now = new Date()\n  const diffTime = Math.abs(now - date)\n  const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24))\n  \n  // å¦‚æœæ˜¯ä»Šå¤©ï¼Œæ˜¾ç¤ºå…·ä½“æ—¶é—´\n  if (diffDays === 1) {\n    return `ä»Šå¤© ${date.toLocaleTimeString('zh-CN', { hour: '2-digit', minute: '2-digit' })}`\n  }\n  // å¦‚æœæ˜¯ä¸€å‘¨å†…ï¼Œæ˜¾ç¤ºå‡ å¤©å‰\n  else if (diffDays <= 7) {\n    return `${diffDays - 1}å¤©å‰`\n  }\n  // å¦åˆ™æ˜¾ç¤ºå…·ä½“æ—¥æœŸ\n  else {\n    return date.toLocaleDateString('zh-CN', { \n      year: 'numeric', \n      month: 'long', \n      day: 'numeric' \n    })\n  }\n}\n</script>\n\n<style scoped>\n/* å®¹å™¨æ ·å¼ */\n.blog-container {\n  min-height: 100vh;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  padding: 2rem 1rem;\n}\n\n/* æ¶²ä½“ç»ç’ƒæ•ˆæœåŸºç¡€æ ·å¼ */\n.glass-card {\n  background: rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(10px);\n  border-radius: 20px;\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\n  transition: all 0.3s ease;\n}\n\n.glass-card:hover {\n  transform: translateY(-5px);\n  box-shadow: 0 15px 45px rgba(0, 0, 0, 0.15);\n}\n\n/* æ ‡é¢˜åŒºåŸŸ */\n.hero-section {\n  text-align: center;\n  margin-bottom: 3rem;\n}\n\n.title-card {\n  padding: 3rem 2rem;\n  max-width: 600px;\n  margin: 0 auto;\n}\n\n.main-title {\n  margin: 0 0 1rem 0;\n  font-size: 3rem;\n  font-weight: 700;\n}\n\n.title-gradient {\n  background: linear-gradient(135deg, #fff 0%, #f0f0f0 100%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n}\n\n.subtitle {\n  color: rgba(255, 255, 255, 0.8);\n  font-size: 1.2rem;\n  margin: 0;\n}\n\n/* åŠ è½½çŠ¶æ€ */\n.loading-section {\n  text-align: center;\n  margin: 3rem 0;\n}\n\n.loading-card {\n  padding: 3rem 2rem;\n  max-width: 400px;\n  margin: 0 auto;\n  color: white;\n}\n\n.loading-spinner {\n  width: 50px;\n  height: 50px;\n  border: 4px solid rgba(255, 255, 255, 0.3);\n  border-top: 4px solid white;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n  margin: 0 auto 1rem;\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n\n/* é”™è¯¯çŠ¶æ€ */\n.error-section {\n  text-align: center;\n  margin: 3rem 0;\n}\n\n.error-card {\n  padding: 3rem 2rem;\n  max-width: 400px;\n  margin: 0 auto;\n  color: white;\n}\n\n.error-icon {\n  font-size: 3rem;\n  margin-bottom: 1rem;\n}\n\n.retry-btn {\n  background: rgba(255, 255, 255, 0.2);\n  border: 1px solid rgba(255, 255, 255, 0.3);\n  color: white;\n  padding: 0.8rem 1.5rem;\n  border-radius: 10px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  margin-top: 1rem;\n}\n\n.retry-btn:hover {\n  background: rgba(255, 255, 255, 0.3);\n}\n\n/* ç»Ÿè®¡æ  */\n.stats-bar {\n  margin-bottom: 2rem;\n  text-align: center;\n}\n\n.stats-card {\n  display: inline-block;\n  padding: 1rem 2rem;\n}\n\n.stats-text {\n  color: white;\n  font-weight: 500;\n}\n\n/* æ–‡ç« ç½‘æ ¼ */\n.articles-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));\n  gap: 2rem;\n  max-width: 1200px;\n  margin: 0 auto;\n}\n\n/* æ–‡ç« å¡ç‰‡ */\n.article-card {\n  padding: 2rem;\n  cursor: pointer;\n  color: white;\n  position: relative;\n  overflow: hidden;\n}\n\n.article-card::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);\n  opacity: 0;\n  transition: opacity 0.3s ease;\n}\n\n.article-card:hover::before {\n  opacity: 1;\n}\n\n.article-title {\n  font-size: 1.5rem;\n  font-weight: 600;\n  margin: 0 0 1rem 0;\n  line-height: 1.3;\n}\n\n.article-excerpt {\n  color: rgba(255, 255, 255, 0.8);\n  line-height: 1.6;\n  margin-bottom: 1.5rem;\n}\n\n/* æ–‡ç« å…ƒä¿¡æ¯ */\n.article-meta {\n  display: flex;\n  gap: 1.5rem;\n  margin-bottom: 1.5rem;\n  font-size: 0.9rem;\n}\n\n.meta-item {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  color: rgba(255, 255, 255, 0.7);\n}\n\n.meta-icon {\n  font-size: 1rem;\n}\n\n/* é˜…è¯»æ›´å¤š */\n.read-more {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding-top: 1rem;\n  border-top: 1px solid rgba(255, 255, 255, 0.1);\n  color: rgba(255, 255, 255, 0.9);\n  font-weight: 500;\n}\n\n.read-more-arrow {\n  transition: transform 0.3s ease;\n}\n\n.article-card:hover .read-more-arrow {\n  transform: translateX(5px);\n}\n\n/* ç©ºçŠ¶æ€ */\n.empty-section {\n  text-align: center;\n  margin: 3rem 0;\n}\n\n.empty-card {\n  padding: 4rem 2rem;\n  max-width: 400px;\n  margin: 0 auto;\n  color: white;\n}\n\n.empty-icon {\n  font-size: 4rem;\n  margin-bottom: 1rem;\n}\n\n/* å“åº”å¼è®¾è®¡ */\n@media (max-width: 768px) {\n  .blog-container {\n    padding: 1rem 0.5rem;\n  }\n  \n  .articles-grid {\n    grid-template-columns: 1fr;\n    gap: 1.5rem;\n  }\n  \n  .main-title {\n    font-size: 2.5rem;\n  }\n  \n  .title-card {\n    padding: 2rem 1rem;\n  }\n  \n  .article-meta {\n    flex-direction: column;\n    gap: 0.5rem;\n  }\n}\n</style>"],"names":["_withAsyncContext","_ssrRenderAttrs","_mergeProps","_unref","_ssrInterpolate","_ssrRenderList"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AA6FA,YAAQ;AAAA,MACN,OAAO;AAAA,MACP,MAAM;AAAA,QACJ,EAAE,MAAM,eAAe,SAAS,yBAAwB;AAAA,MAC5D;AAAA,IACA,CAAC;AAGD,UAAM,EAAE,MAAM,UAAU,SAAS,OAAO,QAAS,KAAS,CAAA,QAAA,SAAA,IAAAA,iBAAA,MAAA,aAAa,aAAa;AAAA,MAClF,QAAQ;AAAA;AAAA,MACR,SAAS;AAAA;AAAA,MACT,WAAW,CAAC,SAAS;AAEnB,eAAO,KAAK,UAAU,KAAK,OAAO,CAAA;AAAA,MACtC;AAAA,IACA,GAAC,aAAA,CAAA;AAeD,UAAM,aAAa,CAAC,YAAY;AAC9B,UAAI,CAAC,QAAS,QAAO;AAErB,YAAM,YAAY,QAAQ,QAAQ,YAAY,EAAE;AAChD,aAAO,UAAU,SAAS,MAAM,UAAU,UAAU,GAAG,GAAG,IAAI,QAAQ;AAAA,IACxE;AAOA,UAAM,aAAa,CAAC,eAAe;AACjC,UAAI,CAAC,WAAY,QAAO;AAExB,YAAM,OAAO,IAAI,KAAK,UAAU;AAChC,YAAM,MAAM,oBAAI,KAAI;AACpB,YAAM,WAAW,KAAK,IAAI,MAAM,IAAI;AACpC,YAAM,WAAW,KAAK,KAAK,YAAY,MAAO,KAAK,KAAK,GAAG;AAG3D,UAAI,aAAa,GAAG;AAClB,eAAO,MAAM,KAAK,mBAAmB,SAAS,EAAE,MAAM,WAAW,QAAQ,UAAS,CAAE,CAAC;AAAA,MACzF,WAEW,YAAY,GAAG;AACtB,eAAO,GAAG,WAAW,CAAC;AAAA,MAC1B,OAEO;AACH,eAAO,KAAK,mBAAmB,SAAS;AAAA,UACtC,MAAM;AAAA,UACN,OAAO;AAAA,UACP,KAAK;AAAA,QACN,CAAA;AAAA,MACL;AAAA,IACA;;;AA9JO,YAAA,OAAAC,eAAAC,WAAA,EAAA,OAAM,oBAAgB,MAAA,CAAA,CAAA,wRAAA;UAYdC,MAAO,OAAA,GAAA;;iBAQFA,MAAK,KAAA,GAAA;AAIX,cAAA,gMAAAC,eAAAD,MAAA,KAAA,EAAM,WAAO,aAAA,CAAA,4EAAA;AAAA;AAaP,cAAA,0LAAAC,iBAAAD,WAAA,QAAA,MAAAA,mBAAU,WAAM,CAAA,CAAA,0BAAA;YAMnBA,MAAQ,QAAA,KAAIA,MAAQ,QAAA,EAAC,SAAM,GAAA;;AAEhBE,wBAAAF,MAAA,QAAA,IAAX,YAAO;wHAMeC,eAAA,QAAQ,KAAK,qEAIrC,WAAW,QAAQ,OAAO,CAAA,oLAOAA,eAAA,QAAQ,MAAM,gKAId,WAAW,QAAQ,WAAW,CAAA;;;;;;;;;;;;;;;;;;;"}