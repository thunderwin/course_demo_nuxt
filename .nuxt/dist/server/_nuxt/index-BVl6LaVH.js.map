{"version":3,"file":"index-BVl6LaVH.js","sources":["../../../../pages/blog/index.vue"],"sourcesContent":["<template>\n  <div class=\"blog-container\">\n    <!-- 页面标题区域 -->\n    <div class=\"hero-section\">\n      <div class=\"glass-card title-card\">\n        <h1 class=\"main-title\">\n          <span class=\"title-gradient\">📝 我的博客</span>\n        </h1>\n        <p class=\"subtitle\">分享技术心得，记录成长足迹</p>\n      </div>\n    </div>\n\n    <!-- 加载状态 -->\n    <div v-if=\"pending\" class=\"loading-section\">\n      <div class=\"glass-card loading-card\">\n        <div class=\"loading-spinner\"></div>\n        <p>正在加载精彩内容...</p>\n      </div>\n    </div>\n\n    <!-- 错误状态 -->\n    <div v-else-if=\"error\" class=\"error-section\">\n      <div class=\"glass-card error-card\">\n        <div class=\"error-icon\">❌</div>\n        <h3>加载失败</h3>\n        <p>{{ error.message || '获取文章列表时出现问题' }}</p>\n        <button @click=\"refresh()\" class=\"retry-btn\">\n          🔄 重试\n        </button>\n      </div>\n    </div>\n\n    <!-- 文章列表 -->\n    <div v-else class=\"articles-section\">\n      <!-- 文章统计 -->\n      <div class=\"stats-bar\">\n        <div class=\"glass-card stats-card\">\n          <span class=\"stats-text\">\n            📊 共 {{ articles?.length || 0 }} 篇文章\n          </span>\n        </div>\n      </div>\n\n      <!-- 文章列表 -->\n      <div v-if=\"articles && articles.length > 0\" class=\"articles-grid\">\n        <article \n          v-for=\"article in articles\" \n          :key=\"article.id\"\n          class=\"glass-card article-card\"\n          @click=\"navigateToArticle(article.id)\"\n        >\n          <!-- 文章标题 -->\n          <h2 class=\"article-title\">{{ article.title }}</h2>\n          \n          <!-- 文章摘要 -->\n          <div class=\"article-excerpt\">\n            {{ getExcerpt(article.content) }}\n          </div>\n          \n          <!-- 文章元信息 -->\n          <div class=\"article-meta\">\n            <div class=\"meta-item\">\n              <span class=\"meta-icon\">👤</span>\n              <span class=\"meta-text\">{{ article.author }}</span>\n            </div>\n            <div class=\"meta-item\">\n              <span class=\"meta-icon\">📅</span>\n              <span class=\"meta-text\">{{ formatDate(article.publishedAt) }}</span>\n            </div>\n          </div>\n          \n          <!-- 阅读更多按钮 -->\n          <div class=\"read-more\">\n            <span class=\"read-more-text\">阅读全文</span>\n            <span class=\"read-more-arrow\">→</span>\n          </div>\n        </article>\n      </div>\n\n      <!-- 空状态 -->\n      <div v-else class=\"empty-section\">\n        <div class=\"glass-card empty-card\">\n          <div class=\"empty-icon\">📝</div>\n          <h3>暂无文章</h3>\n          <p>还没有发布任何文章，敬请期待！</p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\n// 页面元信息设置\nuseHead({\n  title: '博客列表 - 我的博客',\n  meta: [\n    { name: 'description', content: '浏览我的所有博客文章，分享技术心得和成长经历' }\n  ]\n})\n\n// 使用$fetch从后端获取文章数据\nconst { data: articles, pending, error, refresh } = await useLazyFetch('/articles', {\n  server: false, // 在客户端获取数据\n  baseURL: 'http://localhost:7000', // 后端服务器地址\n  transform: (data) => {\n    // 数据转换：确保返回文章数组\n    return data.success ? data.data : []\n  }\n})\n\n/**\n * 导航到文章详情页\n * @param {number} articleId - 文章ID\n */\nconst navigateToArticle = (articleId) => {\n  navigateTo(`/blog/${articleId}`)\n}\n\n/**\n * 获取文章摘要（前150个字符）\n * @param {string} content - 文章内容\n * @return {string} 文章摘要\n */\nconst getExcerpt = (content) => {\n  if (!content) return '暂无内容...'\n  // 移除HTML标签并截取前150个字符\n  const plainText = content.replace(/<[^>]*>/g, '')\n  return plainText.length > 150 ? plainText.substring(0, 150) + '...' : plainText\n}\n\n/**\n * 格式化日期显示\n * @param {string} dateString - 日期字符串\n * @return {string} 格式化后的日期\n */\nconst formatDate = (dateString) => {\n  if (!dateString) return '未知日期'\n  \n  const date = new Date(dateString)\n  const now = new Date()\n  const diffTime = Math.abs(now - date)\n  const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24))\n  \n  // 如果是今天，显示具体时间\n  if (diffDays === 1) {\n    return `今天 ${date.toLocaleTimeString('zh-CN', { hour: '2-digit', minute: '2-digit' })}`\n  }\n  // 如果是一周内，显示几天前\n  else if (diffDays <= 7) {\n    return `${diffDays - 1}天前`\n  }\n  // 否则显示具体日期\n  else {\n    return date.toLocaleDateString('zh-CN', { \n      year: 'numeric', \n      month: 'long', \n      day: 'numeric' \n    })\n  }\n}\n</script>\n\n<style scoped>\n/* 容器样式 */\n.blog-container {\n  min-height: 100vh;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  padding: 2rem 1rem;\n}\n\n/* 液体玻璃效果基础样式 */\n.glass-card {\n  background: rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(10px);\n  border-radius: 20px;\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\n  transition: all 0.3s ease;\n}\n\n.glass-card:hover {\n  transform: translateY(-5px);\n  box-shadow: 0 15px 45px rgba(0, 0, 0, 0.15);\n}\n\n/* 标题区域 */\n.hero-section {\n  text-align: center;\n  margin-bottom: 3rem;\n}\n\n.title-card {\n  padding: 3rem 2rem;\n  max-width: 600px;\n  margin: 0 auto;\n}\n\n.main-title {\n  margin: 0 0 1rem 0;\n  font-size: 3rem;\n  font-weight: 700;\n}\n\n.title-gradient {\n  background: linear-gradient(135deg, #fff 0%, #f0f0f0 100%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n}\n\n.subtitle {\n  color: rgba(255, 255, 255, 0.8);\n  font-size: 1.2rem;\n  margin: 0;\n}\n\n/* 加载状态 */\n.loading-section {\n  text-align: center;\n  margin: 3rem 0;\n}\n\n.loading-card {\n  padding: 3rem 2rem;\n  max-width: 400px;\n  margin: 0 auto;\n  color: white;\n}\n\n.loading-spinner {\n  width: 50px;\n  height: 50px;\n  border: 4px solid rgba(255, 255, 255, 0.3);\n  border-top: 4px solid white;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n  margin: 0 auto 1rem;\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n\n/* 错误状态 */\n.error-section {\n  text-align: center;\n  margin: 3rem 0;\n}\n\n.error-card {\n  padding: 3rem 2rem;\n  max-width: 400px;\n  margin: 0 auto;\n  color: white;\n}\n\n.error-icon {\n  font-size: 3rem;\n  margin-bottom: 1rem;\n}\n\n.retry-btn {\n  background: rgba(255, 255, 255, 0.2);\n  border: 1px solid rgba(255, 255, 255, 0.3);\n  color: white;\n  padding: 0.8rem 1.5rem;\n  border-radius: 10px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  margin-top: 1rem;\n}\n\n.retry-btn:hover {\n  background: rgba(255, 255, 255, 0.3);\n}\n\n/* 统计栏 */\n.stats-bar {\n  margin-bottom: 2rem;\n  text-align: center;\n}\n\n.stats-card {\n  display: inline-block;\n  padding: 1rem 2rem;\n}\n\n.stats-text {\n  color: white;\n  font-weight: 500;\n}\n\n/* 文章网格 */\n.articles-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));\n  gap: 2rem;\n  max-width: 1200px;\n  margin: 0 auto;\n}\n\n/* 文章卡片 */\n.article-card {\n  padding: 2rem;\n  cursor: pointer;\n  color: white;\n  position: relative;\n  overflow: hidden;\n}\n\n.article-card::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);\n  opacity: 0;\n  transition: opacity 0.3s ease;\n}\n\n.article-card:hover::before {\n  opacity: 1;\n}\n\n.article-title {\n  font-size: 1.5rem;\n  font-weight: 600;\n  margin: 0 0 1rem 0;\n  line-height: 1.3;\n}\n\n.article-excerpt {\n  color: rgba(255, 255, 255, 0.8);\n  line-height: 1.6;\n  margin-bottom: 1.5rem;\n}\n\n/* 文章元信息 */\n.article-meta {\n  display: flex;\n  gap: 1.5rem;\n  margin-bottom: 1.5rem;\n  font-size: 0.9rem;\n}\n\n.meta-item {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  color: rgba(255, 255, 255, 0.7);\n}\n\n.meta-icon {\n  font-size: 1rem;\n}\n\n/* 阅读更多 */\n.read-more {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding-top: 1rem;\n  border-top: 1px solid rgba(255, 255, 255, 0.1);\n  color: rgba(255, 255, 255, 0.9);\n  font-weight: 500;\n}\n\n.read-more-arrow {\n  transition: transform 0.3s ease;\n}\n\n.article-card:hover .read-more-arrow {\n  transform: translateX(5px);\n}\n\n/* 空状态 */\n.empty-section {\n  text-align: center;\n  margin: 3rem 0;\n}\n\n.empty-card {\n  padding: 4rem 2rem;\n  max-width: 400px;\n  margin: 0 auto;\n  color: white;\n}\n\n.empty-icon {\n  font-size: 4rem;\n  margin-bottom: 1rem;\n}\n\n/* 响应式设计 */\n@media (max-width: 768px) {\n  .blog-container {\n    padding: 1rem 0.5rem;\n  }\n  \n  .articles-grid {\n    grid-template-columns: 1fr;\n    gap: 1.5rem;\n  }\n  \n  .main-title {\n    font-size: 2.5rem;\n  }\n  \n  .title-card {\n    padding: 2rem 1rem;\n  }\n  \n  .article-meta {\n    flex-direction: column;\n    gap: 0.5rem;\n  }\n}\n</style>"],"names":["_withAsyncContext","_ssrRenderAttrs","_mergeProps","_unref","_ssrInterpolate","_ssrRenderList"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AA6FA,YAAQ;AAAA,MACN,OAAO;AAAA,MACP,MAAM;AAAA,QACJ,EAAE,MAAM,eAAe,SAAS,yBAAwB;AAAA,MAC5D;AAAA,IACA,CAAC;AAGD,UAAM,EAAE,MAAM,UAAU,SAAS,OAAO,QAAS,KAAS,CAAA,QAAA,SAAA,IAAAA,iBAAA,MAAA,aAAa,aAAa;AAAA,MAClF,QAAQ;AAAA;AAAA,MACR,SAAS;AAAA;AAAA,MACT,WAAW,CAAC,SAAS;AAEnB,eAAO,KAAK,UAAU,KAAK,OAAO,CAAA;AAAA,MACtC;AAAA,IACA,GAAC,aAAA,CAAA;AAeD,UAAM,aAAa,CAAC,YAAY;AAC9B,UAAI,CAAC,QAAS,QAAO;AAErB,YAAM,YAAY,QAAQ,QAAQ,YAAY,EAAE;AAChD,aAAO,UAAU,SAAS,MAAM,UAAU,UAAU,GAAG,GAAG,IAAI,QAAQ;AAAA,IACxE;AAOA,UAAM,aAAa,CAAC,eAAe;AACjC,UAAI,CAAC,WAAY,QAAO;AAExB,YAAM,OAAO,IAAI,KAAK,UAAU;AAChC,YAAM,MAAM,oBAAI,KAAI;AACpB,YAAM,WAAW,KAAK,IAAI,MAAM,IAAI;AACpC,YAAM,WAAW,KAAK,KAAK,YAAY,MAAO,KAAK,KAAK,GAAG;AAG3D,UAAI,aAAa,GAAG;AAClB,eAAO,MAAM,KAAK,mBAAmB,SAAS,EAAE,MAAM,WAAW,QAAQ,UAAS,CAAE,CAAC;AAAA,MACzF,WAEW,YAAY,GAAG;AACtB,eAAO,GAAG,WAAW,CAAC;AAAA,MAC1B,OAEO;AACH,eAAO,KAAK,mBAAmB,SAAS;AAAA,UACtC,MAAM;AAAA,UACN,OAAO;AAAA,UACP,KAAK;AAAA,QACN,CAAA;AAAA,MACL;AAAA,IACA;;;AA9JO,YAAA,OAAAC,eAAAC,WAAA,EAAA,OAAM,oBAAgB,MAAA,CAAA,CAAA,wRAAA;UAYdC,MAAO,OAAA,GAAA;;iBAQFA,MAAK,KAAA,GAAA;AAIX,cAAA,gMAAAC,eAAAD,MAAA,KAAA,EAAM,WAAO,aAAA,CAAA,4EAAA;AAAA;AAaP,cAAA,0LAAAC,iBAAAD,WAAA,QAAA,MAAAA,mBAAU,WAAM,CAAA,CAAA,0BAAA;YAMnBA,MAAQ,QAAA,KAAIA,MAAQ,QAAA,EAAC,SAAM,GAAA;;AAEhBE,wBAAAF,MAAA,QAAA,IAAX,YAAO;wHAMeC,eAAA,QAAQ,KAAK,qEAIrC,WAAW,QAAQ,OAAO,CAAA,oLAOAA,eAAA,QAAQ,MAAM,gKAId,WAAW,QAAQ,WAAW,CAAA;;;;;;;;;;;;;;;;;;;"}