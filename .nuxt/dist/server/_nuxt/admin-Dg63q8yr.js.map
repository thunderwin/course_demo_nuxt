{"version":3,"file":"admin-Dg63q8yr.js","sources":["../../../../pages/admin.vue"],"sourcesContent":["<template>\n  <div class=\"admin-container\">\n    <!-- 页面标题 -->\n    <div class=\"page-header glass-card\">\n      <h1 class=\"title\">文章发布管理</h1>\n      <p class=\"subtitle\">创建和发布您的博客文章</p>\n    </div>\n\n    <!-- 发布文章表单 -->\n    <div class=\"form-container glass-card\">\n      <form @submit.prevent=\"publishArticle\" class=\"article-form\">\n        <!-- 文章标题输入框 -->\n        <div class=\"form-group\">\n          <label for=\"title\" class=\"form-label\">文章标题</label>\n          <input\n            id=\"title\"\n            v-model=\"article.title\"\n            type=\"text\"\n            class=\"form-input glass-input\"\n            placeholder=\"请输入文章标题...\"\n            required\n          />\n        </div>\n\n        <!-- 作者输入框 -->\n        <div class=\"form-group\">\n          <label for=\"author\" class=\"form-label\">作者</label>\n          <input\n            id=\"author\"\n            v-model=\"article.author\"\n            type=\"text\"\n            class=\"form-input glass-input\"\n            placeholder=\"请输入作者姓名...\"\n            required\n          />\n        </div>\n\n        <!-- 文章内容输入框 -->\n        <div class=\"form-group\">\n          <label for=\"content\" class=\"form-label\">文章内容</label>\n          <textarea\n            id=\"content\"\n            v-model=\"article.content\"\n            class=\"form-textarea glass-input\"\n            placeholder=\"请输入文章内容...\"\n            rows=\"12\"\n            required\n          ></textarea>\n        </div>\n\n        <!-- 创建时间显示 -->\n        <div class=\"form-group\">\n          <label class=\"form-label\">创建时间</label>\n          <div class=\"time-display glass-input\">\n            {{ formatTime(currentTime) }}\n          </div>\n        </div>\n\n        <!-- 提交按钮 -->\n        <div class=\"form-actions\">\n          <button\n            type=\"submit\"\n            class=\"submit-btn glass-btn\"\n            :disabled=\"isSubmitting\"\n          >\n            <span v-if=\"!isSubmitting\">发布文章</span>\n            <span v-else>发布中...</span>\n          </button>\n          \n          <button\n            type=\"button\"\n            @click=\"resetForm\"\n            class=\"reset-btn glass-btn-secondary\"\n          >\n            重置表单\n          </button>\n        </div>\n      </form>\n    </div>\n\n    <!-- 发布状态提示 -->\n    <div v-if=\"publishStatus\" class=\"status-message\" :class=\"publishStatus.type\">\n      {{ publishStatus.message }}\n    </div>\n  </div>\n</template>\n\n<script setup>\n// 页面标题设置\nuseHead({\n  title: '文章发布管理 - 博客后台',\n  meta: [\n    { name: 'description', content: '博客文章发布和管理页面' }\n  ]\n})\n\n// 响应式数据定义\nconst article = ref({\n  title: '',      // 文章标题\n  content: '',    // 文章内容\n  author: '',     // 作者姓名\n})\n\n// 当前时间，每秒更新\nconst currentTime = ref(new Date())\n\n// 提交状态\nconst isSubmitting = ref(false)\n\n// 发布状态消息\nconst publishStatus = ref(null)\n\n// 定时更新当前时间\nlet timeInterval = null\n\n// 组件挂载时启动时间更新\nonMounted(() => {\n  // 每秒更新一次时间\n  timeInterval = setInterval(() => {\n    currentTime.value = new Date()\n  }, 1000)\n})\n\n// 组件卸载时清除定时器\nonUnmounted(() => {\n  if (timeInterval) {\n    clearInterval(timeInterval)\n  }\n})\n\n/**\n * 格式化时间显示\n * @param {Date} date - 要格式化的日期对象\n * @returns {string} 格式化后的时间字符串\n */\nconst formatTime = (date) => {\n  return date.toLocaleString('zh-CN', {\n    year: 'numeric',\n    month: '2-digit',\n    day: '2-digit',\n    hour: '2-digit',\n    minute: '2-digit',\n    second: '2-digit',\n    hour12: false\n  })\n}\n\n/**\n * 发布文章函数\n * 收集表单数据并发送到服务器\n */\nconst publishArticle = async () => {\n  try {\n    // 设置提交状态\n    isSubmitting.value = true\n    publishStatus.value = null\n\n    // 构建文章数据，包含自动生成的时间戳\n    const articleData = {\n      title: article.value.title,\n      content: article.value.content,\n      author: article.value.author,\n      createdAt: currentTime.value.toISOString(), // ISO格式的时间戳\n      publishedAt: new Date().toISOString(),      // 发布时间\n    }\n\n    // 使用 $fetch 发送文章数据到服务器\n    // 这里假设有一个API端点来处理文章发布\n    const response = await $fetch('http://localhost:7000/upload', {\n      method: 'POST',\n      body: articleData,\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    })\n\n    // 发布成功\n    publishStatus.value = {\n      type: 'success',\n      message: '文章发布成功！'\n    }\n\n    // 重置表单\n    resetForm()\n\n    // 3秒后清除状态消息\n    setTimeout(() => {\n      publishStatus.value = null\n    }, 3000)\n\n  } catch (error) {\n    // 发布失败处理\n    console.error('文章发布失败:', error)\n    publishStatus.value = {\n      type: 'error',\n      message: '文章发布失败，请重试。'\n    }\n\n    // 5秒后清除错误消息\n    setTimeout(() => {\n      publishStatus.value = null\n    }, 5000)\n  } finally {\n    // 恢复提交状态\n    isSubmitting.value = false\n  }\n}\n\n/**\n * 重置表单数据\n */\nconst resetForm = () => {\n  article.value = {\n    title: '',\n    content: '',\n    author: '',\n  }\n  publishStatus.value = null\n}\n</script>\n\n<style scoped>\n/* 管理页面容器样式 */\n.admin-container {\n  min-height: 100vh;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  padding: 2rem;\n  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;\n}\n\n/* 页面标题区域 */\n.page-header {\n  text-align: center;\n  margin-bottom: 2rem;\n  padding: 2rem;\n}\n\n.title {\n  font-size: 2.5rem;\n  font-weight: 700;\n  color: #ffffff;\n  margin: 0 0 0.5rem 0;\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.subtitle {\n  font-size: 1.1rem;\n  color: rgba(255, 255, 255, 0.8);\n  margin: 0;\n}\n\n/* 液体玻璃卡片效果 */\n.glass-card {\n  background: rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(20px);\n  -webkit-backdrop-filter: blur(20px);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  border-radius: 20px;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\n}\n\n/* 表单容器 */\n.form-container {\n  max-width: 800px;\n  margin: 0 auto;\n  padding: 2.5rem;\n}\n\n/* 表单样式 */\n.article-form {\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n}\n\n.form-group {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.form-label {\n  font-size: 1rem;\n  font-weight: 600;\n  color: #ffffff;\n  margin-bottom: 0.5rem;\n}\n\n/* 液体玻璃输入框样式 */\n.glass-input {\n  background: rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(10px);\n  -webkit-backdrop-filter: blur(10px);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  border-radius: 12px;\n  padding: 1rem;\n  font-size: 1rem;\n  color: #ffffff;\n  transition: all 0.3s ease;\n}\n\n.glass-input::placeholder {\n  color: rgba(255, 255, 255, 0.6);\n}\n\n.glass-input:focus {\n  outline: none;\n  border-color: rgba(255, 255, 255, 0.4);\n  background: rgba(255, 255, 255, 0.15);\n  box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.1);\n}\n\n.form-input {\n  height: 3rem;\n}\n\n.form-textarea {\n  min-height: 12rem;\n  resize: vertical;\n  font-family: inherit;\n  line-height: 1.6;\n}\n\n/* 时间显示样式 */\n.time-display {\n  background: rgba(255, 255, 255, 0.05);\n  color: rgba(255, 255, 255, 0.9);\n  font-family: 'Monaco', 'Consolas', monospace;\n  font-size: 1rem;\n  cursor: default;\n  user-select: none;\n}\n\n/* 表单操作按钮区域 */\n.form-actions {\n  display: flex;\n  gap: 1rem;\n  margin-top: 1rem;\n}\n\n/* 液体玻璃按钮样式 */\n.glass-btn {\n  background: rgba(255, 255, 255, 0.2);\n  backdrop-filter: blur(10px);\n  -webkit-backdrop-filter: blur(10px);\n  border: 1px solid rgba(255, 255, 255, 0.3);\n  border-radius: 12px;\n  padding: 1rem 2rem;\n  font-size: 1rem;\n  font-weight: 600;\n  color: #ffffff;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  flex: 1;\n}\n\n.glass-btn:hover:not(:disabled) {\n  background: rgba(255, 255, 255, 0.3);\n  transform: translateY(-2px);\n  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);\n}\n\n.glass-btn:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n  transform: none;\n}\n\n.glass-btn-secondary {\n  background: rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(10px);\n  -webkit-backdrop-filter: blur(10px);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  border-radius: 12px;\n  padding: 1rem 2rem;\n  font-size: 1rem;\n  font-weight: 600;\n  color: rgba(255, 255, 255, 0.8);\n  cursor: pointer;\n  transition: all 0.3s ease;\n  flex: 1;\n}\n\n.glass-btn-secondary:hover {\n  background: rgba(255, 255, 255, 0.15);\n  color: #ffffff;\n  transform: translateY(-1px);\n}\n\n/* 状态消息样式 */\n.status-message {\n  position: fixed;\n  top: 2rem;\n  right: 2rem;\n  padding: 1rem 1.5rem;\n  border-radius: 12px;\n  font-weight: 600;\n  backdrop-filter: blur(10px);\n  -webkit-backdrop-filter: blur(10px);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  animation: slideIn 0.3s ease;\n  z-index: 1000;\n}\n\n.status-message.success {\n  background: rgba(34, 197, 94, 0.2);\n  color: #ffffff;\n  border-color: rgba(34, 197, 94, 0.3);\n}\n\n.status-message.error {\n  background: rgba(239, 68, 68, 0.2);\n  color: #ffffff;\n  border-color: rgba(239, 68, 68, 0.3);\n}\n\n@keyframes slideIn {\n  from {\n    transform: translateX(100%);\n    opacity: 0;\n  }\n  to {\n    transform: translateX(0);\n    opacity: 1;\n  }\n}\n\n/* 响应式设计 */\n@media (max-width: 768px) {\n  .admin-container {\n    padding: 1rem;\n  }\n  \n  .form-container {\n    padding: 1.5rem;\n  }\n  \n  .title {\n    font-size: 2rem;\n  }\n  \n  .form-actions {\n    flex-direction: column;\n  }\n  \n  .status-message {\n    top: 1rem;\n    right: 1rem;\n    left: 1rem;\n  }\n}\n</style>\n"],"names":["_ssrRenderAttrs","_mergeProps","_ssrRenderAttr","_unref","_ssrInterpolate","_ssrRenderClass"],"mappings":";;;;;;;;;;;;;;;;;;AAyFA,YAAQ;AAAA,MACN,OAAO;AAAA,MACP,MAAM;AAAA,QACJ,EAAE,MAAM,eAAe,SAAS,cAAa;AAAA,MACjD;AAAA,IACA,CAAC;AAGD,UAAM,UAAU,IAAI;AAAA,MAClB,OAAO;AAAA;AAAA,MACP,SAAS;AAAA;AAAA,MACT,QAAQ;AAAA;AAAA,IACV,CAAC;AAGD,UAAM,cAAc,IAAI,oBAAI,KAAM,CAAA;AAGlC,UAAM,eAAe,IAAI,KAAK;AAG9B,UAAM,gBAAgB,IAAI,IAAI;AAyB9B,UAAM,aAAa,CAAC,SAAS;AAC3B,aAAO,KAAK,eAAe,SAAS;AAAA,QAClC,MAAM;AAAA,QACN,OAAO;AAAA,QACP,KAAK;AAAA,QACL,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,QAAQ;AAAA,QACR,QAAQ;AAAA,MACT,CAAA;AAAA,IACH;;mBAhJOA,eAAAC,WAAA,EAAA,OAAM,kBAAiB,GAAA,MAAA,CAAA,4YAeTC,cAAA,SAAAC,MAAA,OAAA,EAAQ,KAAK,mOAabD,cAAA,SAAAC,MAAA,OAAA,EAAQ,MAAM,yUAadC,eAAAD,MAAA,OAAA,EAAQ,OAAO,yKAYrBC,eAAA,WAAWD,MAAW,WAAA,CAAA,CAAA,kIASdA,MAAY,YAAA,CAAA,IAAA,cAAA;WAEVA,MAAY,YAAA,GAAA;;;;;;UAgBtBA,MAAa,aAAA,GAAA;6BAAiCE,eAAA,CAAAF,MAAA,aAAA,EAAc,MAAI,gBAAA,CAAA,sBACtEC,eAAAD,MAAA,aAAA,EAAc,OAAO;;;;;;;;;;;;;;;"}