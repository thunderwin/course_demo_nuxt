import{u as y}from"./D4Z7RUcX.js";import{u as b}from"./DKNMUz-P.js";import{_ as k,m as x,c as n,k as w,u as i,a as s,t as r,F as C,s as D,o,q as $}from"./CGX_HFdr.js";const L={class:"blog-container"},T={key:0,class:"loading-section"},N={key:1,class:"error-section"},z={class:"glass-card error-card"},A={key:2,class:"articles-section"},B={class:"stats-bar"},F={class:"glass-card stats-card"},S={class:"stats-text"},E={key:0,class:"articles-grid"},M=["onClick"],V={class:"article-title"},q={class:"article-excerpt"},H={class:"article-meta"},I={class:"meta-item"},R={class:"meta-text"},U={class:"meta-item"},X={class:"meta-text"},j={key:1,class:"empty-section"},G={__name:"index",async setup(J){let l,p;y({title:"åšå®¢åˆ—è¡¨ - æˆ‘çš„åšå®¢",meta:[{name:"description",content:"æµè§ˆæˆ‘çš„æ‰€æœ‰åšå®¢æ–‡ç« ï¼Œåˆ†äº«æŠ€æœ¯å¿ƒå¾—å’Œæˆé•¿ç»å†"}]});const{data:d,pending:u,error:_,refresh:v}=([l,p]=x(()=>b("/articles",{server:!1,baseURL:"http://localhost:7000",transform:e=>e.success?e.data:[]},"$ns2Xa_1kks")),l=await l,p(),l),g=e=>{$(`/blog/${e}`)},h=e=>{if(!e)return"æš‚æ— å†…å®¹...";const t=e.replace(/<[^>]*>/g,"");return t.length>150?t.substring(0,150)+"...":t},f=e=>{if(!e)return"æœªçŸ¥æ—¥æœŸ";const t=new Date(e),a=Math.abs(new Date-t),c=Math.ceil(a/(1e3*60*60*24));return c===1?`ä»Šå¤© ${t.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"})}`:c<=7?`${c-1}å¤©å‰`:t.toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric"})};return(e,t)=>{var m;return o(),n("div",L,[t[8]||(t[8]=w('<div class="hero-section" data-v-137d593b><div class="glass-card title-card" data-v-137d593b><h1 class="main-title" data-v-137d593b><span class="title-gradient" data-v-137d593b>ğŸ“ æˆ‘çš„åšå®¢</span></h1><p class="subtitle" data-v-137d593b>åˆ†äº«æŠ€æœ¯å¿ƒå¾—ï¼Œè®°å½•æˆé•¿è¶³è¿¹</p></div></div>',1)),i(u)?(o(),n("div",T,t[1]||(t[1]=[s("div",{class:"glass-card loading-card"},[s("div",{class:"loading-spinner"}),s("p",null,"æ­£åœ¨åŠ è½½ç²¾å½©å†…å®¹...")],-1)]))):i(_)?(o(),n("div",N,[s("div",z,[t[2]||(t[2]=s("div",{class:"error-icon"},"âŒ",-1)),t[3]||(t[3]=s("h3",null,"åŠ è½½å¤±è´¥",-1)),s("p",null,r(i(_).message||"è·å–æ–‡ç« åˆ—è¡¨æ—¶å‡ºç°é—®é¢˜"),1),s("button",{onClick:t[0]||(t[0]=a=>i(v)()),class:"retry-btn"}," ğŸ”„ é‡è¯• ")])])):(o(),n("div",A,[s("div",B,[s("div",F,[s("span",S," ğŸ“Š å…± "+r(((m=i(d))==null?void 0:m.length)||0)+" ç¯‡æ–‡ç«  ",1)])]),i(d)&&i(d).length>0?(o(),n("div",E,[(o(!0),n(C,null,D(i(d),a=>(o(),n("article",{key:a.id,class:"glass-card article-card",onClick:c=>g(a.id)},[s("h2",V,r(a.title),1),s("div",q,r(h(a.content)),1),s("div",H,[s("div",I,[t[4]||(t[4]=s("span",{class:"meta-icon"},"ğŸ‘¤",-1)),s("span",R,r(a.author),1)]),s("div",U,[t[5]||(t[5]=s("span",{class:"meta-icon"},"ğŸ“…",-1)),s("span",X,r(f(a.publishedAt)),1)])]),t[6]||(t[6]=s("div",{class:"read-more"},[s("span",{class:"read-more-text"},"é˜…è¯»å…¨æ–‡"),s("span",{class:"read-more-arrow"},"â†’")],-1))],8,M))),128))])):(o(),n("div",j,t[7]||(t[7]=[s("div",{class:"glass-card empty-card"},[s("div",{class:"empty-icon"},"ğŸ“"),s("h3",null,"æš‚æ— æ–‡ç« "),s("p",null,"è¿˜æ²¡æœ‰å‘å¸ƒä»»ä½•æ–‡ç« ï¼Œæ•¬è¯·æœŸå¾…ï¼")],-1)])))]))])}}},Q=k(G,[["__scopeId","data-v-137d593b"]]);export{Q as default};
